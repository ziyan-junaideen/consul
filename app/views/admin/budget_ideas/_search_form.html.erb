<% init_advanced_menu %>
<%= form_tag(admin_budget_budget_ideas_path(budget: @budget), method: :get, enforce_utf8: false) do %>
  <div class="row">
    <div class="small-12 medium-8 large-12 column">
      <%= link_to "#advanced_filters_content",
                  data: {toggle: "advanced_filters"},
                  class: "advanced-filters float-right clear" do %>
        <%= t("admin.budget_ideas.index.advanced_filters") %>
      <% end %>
    </div>
  </div>
  <div id="advanced_filters" class="row advanced-filters-content <%= advanced_menu_visibility %>" data-toggler=".hide">
    <div class="small-12 medium-8 large-12 column">
      <% ["feasible", "selected", "undecided", "unfeasible"].each do |option| %>
        <div class="filter">
          <%= check_box_tag "advanced_filters[]", option, params[:advanced_filters].index(option), id: "advanced_filters_#{option}" %>
          <%= t("admin.budget_ideas.index.filters.#{option}") %>
        </div>
      <% end %>
      <div class="filter">
        <%= text_field_tag :min_total_supports, params["min_total_supports"], placeholder: t("admin.budget_ideas.index.filters.min_total_supports") %>
      </div>
    </div>
  </div>
  <div class="row" >
    <div class="small-12 medium-3 column">
      <%= select_tag :heading_id,
                     options_for_select(budget_heading_select_options(@budget), params[:heading_id]),
                     { prompt: t("admin.budget_ideas.index.heading_filter_all"),
                       label: false} %>
    </div>
    <div class="small-12 medium-3 column">
      <%= select_tag :tag_name,
                     options_for_select(idea_tags_select_options(@budget), params[:tag_name]),
                     { prompt: t("admin.budget_ideas.index.tags_filter_all"),
                       label: false} %>
    </div>

    <div class="small-12 medium-3 column">
      <%= select_tag :published,
                     options_for_select(idea_published_select_options, params[:published]),
                     { prompt: t("admin.budget_ideas.index.published_all"),
                       label: false} %>
    </div>

    <div class="small-12 medium-3 column">
      <%= select_tag :has_map,
                     options_for_select(idea_map_select_options, params[:has_map]),
                     { prompt: t("admin.budget_ideas.index.map_all"),
                       label: false} %> 
    </div>
  </div>
  <div class="row" >
    <div class="small-12 medium-6 column">
      <div class="input-group">
        <%= text_field_tag :title_or_id, params["title_or_id"], placeholder: t("admin.budget_ideas.index.placeholder") %>
      </div>
    </div>
    <div class="small-12 medium-6 column">
      <%= submit_tag t("admin.budget_ideas.index.buttons.filter"), class: "button expanded" %>
    </div>
  </div>
<% end %>
